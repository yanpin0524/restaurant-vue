{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/components/UserProfileCard.vue","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue?f338","webpack:///./src/components/UserFollowingsCard.vue","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue?d695","webpack:///./src/components/UserFollowersCard.vue","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue?fc2e","webpack:///./src/components/UserCommentsCard.vue","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue?83fd","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?f47f","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue?1f52"],"names":["render","_vm","this","_c","_self","staticClass","attrs","profile","isFollowed","on","fetchUser","Followings","Followers","Comments","FavoritedRestaurants","staticRenderFns","image","_v","_s","name","email","ReviewedRestaurantCounts","length","currentUser","id","params","$event","stopPropagation","preventDefault","deleteFollowed","addFollowed","props","initialProfile","type","required","initialIsFollowed","data","password","isAdmin","createdAt","updatedAt","computed","watch","methods","userId","Toast","icon","title","component","initialFollowings","_l","user","key","initialFollowers","CommentRestaurantList","comment","Restaurant","initialComments","initialFavorited","restaurant","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","created","beforeRouteUpdate","next"],"mappings":"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","file":"js/chunk-2d0ab43a.d68a6013.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"initial-profile\":_vm.profile,\"initial-is-followed\":_vm.isFollowed},on:{\"after-click-followed\":_vm.fetchUser}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingsCard',{attrs:{\"initial-followings\":_vm.profile.Followings}}),_c('br'),_c('UserFollowersCard',{attrs:{\"initial-followers\":_vm.profile.Followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"initial-comments\":_vm.profile.Comments}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"initial-favorited\":_vm.profile.FavoritedRestaurants}})],1)])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm.profile.image || 'https://i.imgur.com/58ImzMM.png',\"width\":\"100%\",\"height\":\"100%\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.profile.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.profile.email)+\" \")]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.ReviewedRestaurantCounts))]),_vm._v(\" 已評論餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.FavoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followings.length))]),_vm._v(\" followings (追蹤者)\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followers.length))]),_vm._v(\" followers (追隨者)\")])]),(_vm.currentUser.id === _vm.profile.id)?_c('p',[_c('router-link',{attrs:{\"to\":{ name: 'users-edit', params: { id: _vm.profile.id }}}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"edit\")])])],1):_c('p',[(_vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowed(_vm.profile.id)}}},[_vm._v(\" 取消追蹤 \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowed(_vm.profile.id)}}},[_vm._v(\" 追蹤 \")])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img :src=\"profile.image || 'https://i.imgur.com/58ImzMM.png' \" width=\"100%\" height=\"100%\">\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ profile.name }}</h5>\n          <p class=\"card-text\">\n            {{ profile.email }}\n          </p>\n          <ul class=\"list-unstyled list-inline\">\n            <li><strong>{{ ReviewedRestaurantCounts }}</strong> 已評論餐廳</li>\n            <li><strong>{{ profile.FavoritedRestaurants.length }}</strong> 收藏的餐廳</li>\n            <li><strong>{{ profile.Followings.length }}</strong> followings (追蹤者)</li>\n            <li><strong>{{ profile.Followers.length }}</strong> followers (追隨者)</li>\n          </ul>\n          <p v-if=\"currentUser.id === profile.id\">\n            <router-link :to=\"{ name: 'users-edit', params: { id: profile.id }}\"><button type=\"submit\"\n                class=\"btn btn-primary\">edit</button></router-link>\n          </p>\n          <p v-else>\n            <button v-if=\"isFollowed\" @click.stop.prevent=\"deleteFollowed(profile.id)\" type=\"button\" class=\"btn btn-danger\">\n              取消追蹤\n            </button>\n            <button v-else @click.stop.prevent=\"addFollowed(profile.id)\" type=\"button\" class=\"btn btn-primary\">\n              追蹤\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'UserProfileCard',\n  props: {\n    initialProfile: {\n      type: Object,\n      required: true\n    },\n    initialIsFollowed: {\n      type: Boolean,\n      required: false\n    }\n  },\n  data() {\n    return {\n      profile: {\n        id: -1,\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        isAdmin: false,\n        image: null,\n        createdAt: \"\",\n        updatedAt: \"\",\n        Comments: [],\n        FavoritedRestaurants: [],\n        Followers: [],\n        Followings: []\n      },\n      isFollowed: false,\n    }\n  },\n  computed: {\n    ReviewedRestaurantCounts() {\n      if (!this.profile.Comments.length) return 0\n      const reviewedRestaurant = this.profile.Comments.map(comment => comment.RestaurantId)\n      const reviewedRestaurantCounts = [...new Set(reviewedRestaurant)].length\n      return reviewedRestaurantCounts\n    },\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  watch: {\n    initialProfile(newValue) {\n      this.profile = {\n        ...this.profile,\n        ...newValue\n      }\n    },\n    initialIsFollowed(newValue) {\n      this.isFollowed = newValue\n    }\n  },\n  methods: {\n    async addFollowed(userId) {\n      try {\n        const { data } = await usersAPI.addFollowing({ userId })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.$emit('after-click-followed', userId)\n        this.isFollowed = true\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: \"Unable to follow this user, Please try again\"\n        })\n      }\n    },\n    async deleteFollowed(userId) {\n      try {\n        const { data } = await usersAPI.deleteFollowing({ userId })\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.$emit('after-click-followed', userId)\n        this.isFollowed = false\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to cancel follow this user, Please try again'\n        })\n      }\n    }\n  }\n}\n\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=ff9580e2&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.initialFollowings? _vm.initialFollowings.length : 0))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.initialFollowings),function(user){return _c('router-link',{key:user.id,staticClass:\"mr-1\",attrs:{\"to\":{ name: 'users-profile', params: { id: user.id }}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":user.image || 'https://i.imgur.com/58ImzMM.png',\"width\":\"60\",\"height\":\"60\"}})])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{ initialFollowings? initialFollowings.length : 0}}</strong> followings (追蹤者)\n    </div>\n    <div class=\"card-body\">\n      <router-link v-for=\"user in initialFollowings\" :key=\"user.id\" :to=\"{ name: 'users-profile', params: { id: user.id }}\" class=\"mr-1\">\n        <img :src=\"user.image || 'https://i.imgur.com/58ImzMM.png' \" width=\"60\" height=\"60\" class=\"avatar\">\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    initialFollowings: {\n      type: Array\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=aa886afc&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.initialFollowers ? _vm.initialFollowers.length : 0))]),_vm._v(\" followers (追隨者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.initialFollowers),function(user){return _c('router-link',{key:user.id,staticClass:\"mr-1\",attrs:{\"to\":{ name: 'users-profile', params: { id: user.id }}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":user.image || 'https://i.imgur.com/58ImzMM.png',\"width\":\"60\",\"height\":\"60\"}})])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{ initialFollowers ? initialFollowers.length : 0 }}</strong> followers (追隨者)\n    </div>\n    <div class=\"card-body\">\n      <router-link v-for=\"user in initialFollowers\" :key=\"user.id\" :to=\"{ name: 'users-profile', params: { id: user.id }}\" class=\"mr-1\">\n        <img :src=\"user.image || 'https://i.imgur.com/58ImzMM.png' \" width=\"60\" height=\"60\" class=\"avatar\">\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    initialFollowers: {\n      type: Array\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=2877d090&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.CommentRestaurantList.length))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.CommentRestaurantList),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{ name: 'restaurant', params: { id: comment.Restaurant.id }}}},[_c('img',{staticClass:\"avatar mr-1 mb-1\",attrs:{\"src\":comment.Restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{ CommentRestaurantList.length }}</strong> 已評論餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link v-for=\"comment in CommentRestaurantList\" :key=\"comment.id\" :to=\"{ name: 'restaurant', params: { id: comment.Restaurant.id }}\">\n        <img :src=\"comment.Restaurant.image\" width=\"60\" height=\"60\" class=\"avatar mr-1 mb-1\">\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    initialComments: {\n      type: Array\n    }\n  },\n  computed: {\n    CommentRestaurantList() {\n      if(!this.initialComments) return []\n\n      const set = new Set()\n      const commentRestaurantList = this.initialComments.filter(comment => {\n        return !set.has(comment.RestaurantId) ? set.add(comment.RestaurantId) : false\n      })\n      return commentRestaurantList\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=8c6929f8&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.initialFavorited ? _vm.initialFavorited.length : 0))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.initialFavorited),function(restaurant){return _c('router-link',{key:restaurant.id,attrs:{\"to\":{name: 'restaurant', params: { id: restaurant.id }}}},[_c('img',{staticClass:\"avatar mr-1\",attrs:{\"src\":restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{ initialFavorited ? initialFavorited.length : 0 }}</strong> 收藏的餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link v-for=\"restaurant in initialFavorited\" :key=\"restaurant.id\" :to=\"{name: 'restaurant', params: { id: restaurant.id }}\">\n        <img :src=\"restaurant.image\" width=\"60\" height=\"60\" class=\"avatar mr-1\">\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    initialFavorited : {\n      type: Array\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=7d21cc0d&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"album py-5 bg-light\">\n    <div class=\"container\">\n      <!-- Profile -->\n      <UserProfileCard @after-click-followed=\"fetchUser\" :initial-profile=\"profile\" :initial-is-followed=\"isFollowed\" />\n\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <!--** Followings -->\n          <UserFollowingsCard :initial-followings=\"profile.Followings\"/>\n          <br>\n\n          <!--** Followers -->\n          <UserFollowersCard :initial-followers=\"profile.Followers\"/>\n\n        </div>\n        <div class=\"col-md-8\">\n          <!--** Comments-->\n          <UserCommentsCard :initial-comments=\"profile.Comments\"/>\n          <br>\n\n          <!-- Favorited -->\n          <UserFavoritedRestaurantsCard :initial-favorited=\"profile.FavoritedRestaurants\"/>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserProfileCard from './../components/UserProfileCard'\nimport UserFollowingsCard from './../components/UserFollowingsCard'\nimport UserFollowersCard from './../components/UserFollowersCard'\nimport UserCommentsCard from './../components/UserCommentsCard'\nimport UserFavoritedRestaurantsCard from '../components/UserFavoritedRestaurantsCard'\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\n\n\nexport default {\n  name: 'UserProfile',\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard\n  },\n  data() {\n    return {\n      profile: {},\n      isFollowed: false\n    }\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const { data } = await usersAPI.get({userId})\n\n        this.profile = data.profile\n        this.isFollowed = data.isFollowed\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Unable to get user data, Please try again.'\n        })\n      }\n    }\n  },\n  created() {\n    const { id } = this.$route.params\n    this.fetchUser(id)\n  },\n  beforeRouteUpdate (to, from, next) {\n    const { id } = to.params\n    this.fetchUser(id)\n    next()\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=7c718bf5&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}